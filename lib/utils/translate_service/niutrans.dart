import "dart:convert";

import "package:dio/dio.dart";
import "package:metranslate/global.dart";
import "package:metranslate/utils/init_dio.dart";

/// 小牛翻译
/// https://niutrans.com/documents/contents/trans_text
Future<String> translateByNiutrans(String text, String from, String to) async {
  try {
    from = niutransSupportLanguage()[from]!;
    to = niutransSupportLanguage()[to]!;
  } catch (_) {
    return "error:不支持的语言";
  }
  const String url = "https://api.niutrans.com/NiuTransServer/translation";
  final String apiKey = (prefs.getString("niutransApiKey") ?? "").trim();
  final Map<String, String> data = {
    "from": from,
    "to": to,
    "apikey": apiKey,
    "src_text": text,
  };

  final Dio dio = initDio();
  final Response response = await dio.post(
    url,
    queryParameters: data,
  );
  Map result = jsonDecode(response.data);
  return result["tgt_text"];
}

/// 小牛翻译支持语言
/// https://niutrans.com/documents/contents/trans_text
Map<String, String> niutransSupportLanguage() {
  return {
    "阿尔巴尼亚语": "sq",
    "阿拉伯语": "ar",
    "阿姆哈拉语": "am",
    "阿丘雅语": "acu",
    "阿瓜鲁纳语": "agr",
    "阿卡瓦伊语": "ake",
    "阿穆斯戈语": "amu",
    "阿塞拜疆语": "az",
    "爱尔兰语": "ga",
    "爱沙尼亚语": "et",
    "埃维语": "ee",
    "奥吉布瓦语": "ojb",
    "奥罗莫语": "om",
    "奥利亚语": "or",
    "奥赛梯语": "os",
    "阿雅安伊富高语": "ifb",
    "艾马拉语": "aym",
    "阿卡特克语": "knj",
    "安蒂波洛伊富高语": "ify",
    "阿奇语": "acr",
    "安拜语": "amk",
    "奥罗科语": "bdu",
    "阿多拉语": "adh",
    "阿格尼桑维语": "any",
    "阿舍宁卡语": "cpb",
    "埃菲克语": "efi",
    "阿乔利语": "ach",
    "埃桑语": "ish",
    "埃多语": "bin",
    "阿卢尔语": "alz",
    "阿亚库乔克丘亚语": "quy",
    "奥克语": "oc",
    "阿斯图里亚斯语": "ast",
    "阿拉贡语": "an",
    "阿法尔语": "aa",
    "阿尔及利亚阿拉伯语": "arq",
    "阿布哈兹语": "ab",
    "巴布亚皮钦语": "tpi",
    "巴拉萨纳语": "bsn",
    "巴什基尔语": "ba",
    "巴斯克语": "eu",
    "白俄罗斯语": "be",
    "白苗文": "mww",
    "柏柏尔语": "ber",
    "保加利亚语": "bg",
    "冰岛语": "is",
    "比斯拉马语": "bi",
    "别姆巴语": "bem",
    "波兰语": "pl",
    "波斯尼亚语": "bs",
    "波斯语": "fa",
    "波塔瓦托米语": "pot",
    "布列塔尼语": "br",
    "波孔奇语": "poh",
    "班巴拉语": "bam",
    "北部马姆语": "map",
    "巴里巴语": "bba",
    "博科巴鲁语": "bus",
    "布萨语": "bqp",
    "波拉语": "bnp",
    "巴里亚语": "bch",
    "班通安隆语": "bno",
    "班迪亚勒语": "bqj",
    "巴卡语": "bdh",
    "邦邦语": "ptu",
    "巴里语": "bfa",
    "布阿尔考钦语": "cbl",
    "北部格雷博语": "gbo",
    "巴萨语": "bas",
    "布卢语": "bum",
    "邦阿西楠语": "pag",
    "鲍勒语": "bci",
    "比亚克语": "bhw",
    "巴塔克卡罗语": "btx",
    "波纳佩语": "pon",
    "伯利兹克里奥尔语": "bzj",
    "巴拉圭瓜拉尼语": "gug",
    "北部普埃布拉纳瓦特语": "ncj",
    "巴西葡萄牙语": "BR",
    "邦板牙语": "pam",
    "北索托语": "nso",
    "北萨米语": "se",
    "查莫罗语": "cha",
    "楚瓦什语": "cv",
    "茨瓦纳语": "tn",
    "聪加语": "ts",
    "车臣语": "che",
    "查克玛语": "ccp",
    "茨鲁语": "cdf",
    "茨瓦语": "tsc",
    "楚瓦博语": "chw",
    "鞑靼语": "tt",
    "丹麦语": "da",
    "德语": "de",
    "德顿语": "tet",
    "迪维希语": "dv",
    "丁卡语": "dik",
    "迪尤拉语": "dyu",
    "迪塔马利语": "tbz",
    "达迪比语": "mps",
    "蒂穆贡": "tih",
    "东部卡加延": "duo",
    "丹美语": "ada",
    "杜阿拉语": "dua",
    "帝力德顿语": "tdt",
    "德鲁语": "dhv",
    "蒂夫语": "tiv",
    "多巴巴塔克语": "bbc",
    "地峡萨波特克语": "zai",
    "低地德语": "nds",
    "道本语": "toki",
    "俄语": "ru",
    "恩都卡语": "djk",
    "恩舍特语": "enx",
    "恩泽马语": "nzi",
    "恩加朱语": "nij",
    "恩科里语": "nyn",
    "恩道语": "ndc",
    "恩敦加语": "ndo",
    "法语": "fr",
    "法罗语": "fo",
    "菲律宾语": "fil",
    "斐济语": "fj",
    "芬兰语": "fi",
    "法兰钦语": "cfm",
    "法拉法拉语": "gur",
    "佛得角克里奥尔语": "kea",
    "丰语": "fon",
    "弗留利语": "fur",
    "法兰克": "frp",
    "梵语": "sa",
    "高棉语": "km",
    "盖丘亚语": "quw",
    "刚果语": "kg",
    "弗里西语": "fy",
    "格鲁吉亚语": "jy",
    "古吉拉特语": "gu",
    "瓜哈哈拉语": "gub",
    "果发语": "gof",
    "格森语": "xsm",
    "格巴亚语": "krs",
    "龚语": "guw",
    "刚果斯瓦希里语": "swc",
    "圭米语": "gym",
    "瓜拉尼语": "gn",
    "格陵兰语": "kl",
    "高原马达加斯加语": "plt",
    "古英语": "ang",
    "哈萨克语": "ka",
    "哈萨克语(西里尔)": "kk",
    "海地克里奥尔语": "ht",
    "韩语": "ko",
    "豪萨语": "ha",
    "荷兰语": "nl",
    "黑山语": "me",
    "哈卡钦语": "cnh",
    "胡里语": "hui",
    "亥比语": "hlb",
    "赫雷罗语": "her",
    "胡帕语": "hup",
    "吉尔吉斯语": "ky",
    "基切语": "quc",
    "加莱拉语": "gbi",
    "加利西亚语": "gl",
    "加泰罗尼亚语": "ca",
    "捷克语": "cs",
    "基里巴斯语": "gil",
    "景颇语": "kac",
    "加语": "gaa",
    "基库尤语": "kik",
    "金邦杜语": "kmb",
    "加利富纳语": "cab",
    "加拿大法语": "CA",
    "卡拜尔语": "kab",
    "卡韦卡尔语": "cjp",
    "卡克奇克尔语": "cak",
    "卡纳达语": "kn",
    "凯克其语": "kek",
    "坎帕语": "cni",
    "科普特语": "cop",
    "科奇语": "kbh",
    "科西嘉语": "co",
    "克雷塔罗奥托米语": "otq",
    "克罗地亚语": "hr",
    "库尔德语(库尔曼奇语)": "ku",
    "库尔德语(索拉尼语)": "ckb",
    "库阿努阿语": "ksd",
    "库斯科克丘亚语": "quz",
    "卡平阿马朗伊语": "kpg",
    "克里米亚鞑靼语": "crh",
    "卡尔梅克卫拉特语": "xal",
    "克利科语": "kbo",
    "卡库瓦语": "keo",
    "喀克其奎语": "cki",
    "卡乌龙语": "pss",
    "库隆语": "kle",
    "卡纳尔高地": "qxr",
    "库克群岛毛利语": "rar",
    "卡比耶语": "kbp",
    "卡姆巴语": "kam",
    "卡昂多语": "kqn",
    "喀麦隆皮钦语": "wes",
    "宽亚玛语": "kua",
    "克林贡语": "tlh",
    "卡努里语": "kr",
    "康沃尔语": "kw",
    "卡舒比语": "csb",
    "卢旺达语": "rw",
    "拉丁语": "la",
    "拉脱维亚语": "lv",
    "老挝语": "lo",
    "隆迪语": "rn",
    "立陶宛语": "lt",
    "林加拉语": "ln",
    "卢干达语": "lg",
    "卢克帕语": "dop",
    "卢森堡语": "lb",
    "罗马尼亚语": "ro",
    "罗姆语": "rmn",
    "隆韦语": "ngl",
    "罗维那语": "rug",
    "勒期语": "lsi",
    "临高语": "ond",
    "罗子语": "loz",
    "卢巴开赛语": "lua",
    "卢巴": "lub",
    "隆打语": "lun",
    "卢乌德语": "rnd",
    "卢瓦来语": "lue",
    "林堡语": "li",
    "逻辑语": "jbo",
    "马尔加什语": "mg",
    "马耳他语": "mt",
    "马恩岛语": "gv",
    "马拉地语": "mr",
    "马拉雅拉姆语": "ml",
    "马来语": "ms",
    "马里语": "mhr",
    "马姆语": "mam",
    "马其顿语": "mk",
    "毛利语": "mi",
    "蒙古语": "mo",
    "蒙古语(西里尔)": "mn",
    "缅甸语": "my",
    "孟加拉语": "bn",
    "曼尼普尔语": "mni",
    "摩图语": "meu",
    "马绍尔语": "mah",
    "马拉瑙语": "mrw",
    "马勒语": "mdy",
    "马都拉语": "mad",
    "莫西语": "mos",
    "穆图凡语": "muv",
    "米佐语": "lus",
    "毛里求斯克里奥尔语": "mfe",
    "姆班杜语": "umb",
    "马普切语": "arn",
    "米斯特克语": "mxv",
    "马库阿语": "vmw",
    "曼代灵西马隆贡语": "bts",
    "曼布韦": "mgr",
    "门诺低地德语": "pdt",
    "米兰达语": "mwl",
    "迈蒂利语": "mai",
    "马来语克里奥尔语": "crp",
    "纳瓦特尔语": "nhg",
    "南非荷兰语": "af",
    "南非科萨语": "xh",
    "南非祖鲁语": "zu",
    "尼泊尔语": "ne",
    "挪威语": "no",
    "南阿塞拜疆语": "azb",
    "南玻利维亚克丘亚语": "quh",
    "弄巴湾语": "lnd",
    "尼日利亚富拉语": "fuv",
    "努曼干语": "nop",
    "纳特尼语": "ntm",
    "尼亚库萨语": "nyy",
    "纽埃语": "niu",
    "尼亚斯语": "nia",
    "涅姆巴语": "nba",
    "尼荣圭语": "nyu",
    "纳瓦霍语": "nav",
    "尼亚内卡语": "nyk",
    "尼日利亚皮钦语": "pcm",
    "南恩德贝莱语": "nr",
    "帕皮阿门托语": "pap",
    "派特语": "pck",
    "旁遮普语": "pa",
    "葡萄牙语": "pt",
    "普什图语": "ps",
    "佩勒": "ata",
    "皮京语": "pis",
    "帕潘特拉托托纳克语": "top",
    "齐切瓦语": "ny",
    "契维语": "tw",
    "切诺基语": "chr",
    "奇南特克语": "chq",
    "齐马内语": "cas",
    "乔奎语": "cjk",
    "乔皮语": "cce",
    "丘克语": "chk",
    "钦博拉索高地克丘亚语": "qug",
    "恰蒂斯加尔语": "hne",
    "日语": "ja",
    "瑞典语": "sv",
    "萨摩亚语": "sm",
    "塞尔维亚语": "sr",
    "塞舌尔克里奥尔语": "crs",
    "塞索托语": "st",
    "桑戈语": "sg",
    "僧伽罗语": "si",
    "山地马里语": "mrj",
    "世界语": "eo",
    "舒阿尔语": "jiv",
    "斯洛伐克语": "sk",
    "斯洛文尼亚语": "sl",
    "斯瓦希里语": "sw",
    "苏格兰盖尔语": "gd",
    "索马里语": "so",
    "苏奥语": "swp",
    "桑贝里吉语": "ssx",
    "萨鲍特语": "spy",
    "圣马特奥德马尔": "huv",
    "斯哈语": "jmc",
    "萨拉马坎语": "srm",
    "桑格语": "sxn",
    "塞纳语": "seh",
    "圣萨尔瓦多刚果语": "kwy",
    "松格语": "sop",
    "索西语": "tzo",
    "斯高克伦语": "ksw",
    "苏格兰语": "sco",
    "书面挪威语": "nb",
    "撒丁语": "sc",
    "掸语": "shn",
    "塞尔维亚": "sh",
    "斯威士语": "ss",
    "上索布语": "hsb",
    "塔吉克语": "tg",
    "塔希提语": "ty",
    "泰卢固语": "te",
    "泰米尔语": "ta",
    "泰语": "th",
    "汤加语": "to",
    "提格雷语": "tig",
    "图阿雷格语": "tmh",
    "土耳其语": "tr",
    "土库曼语": "tk",
    "坦普尔马语": "tpm",
    "特丁钦语": "ctd",
    "图瓦语": "tyv",
    "图马伊鲁穆语": "iou",
    "腾内特语": "tex",
    "通加格语": "lcm",
    "特索语": "teo",
    "图瓦卢语": "tvl",
    "特特拉语": "tll",
    "他加禄语": "tgl",
    "通布卡语": "tum",
    "托霍拉瓦尔语": "toj",
    "土柔语": "ttj",
    "瓦拉莫语": "wal",
    "瓦瑞语": "war",
    "文达语": "ve",
    "沃洛夫语": "wol",
    "乌德穆尔特语": "udm",
    "乌尔都语": "ur",
    "乌克兰语": "uk",
    "乌兹别克语": "uz",
    "乌玛语": "ppk",
    "乌斯潘坦语": "usp",
    "瓦利语": "wlx",
    "佤语": "prk",
    "瓦吉语": "wsk",
    "瓦里斯语": "wrs",
    "文约语": "vun",
    "威尔士语": "cy",
    "瓦利斯语": "wls",
    "乌尔霍博语": "urh",
    "瓦乌特拉马萨特克语": "mau",
    "瓦尤语": "guc",
    "瓦隆语": "wa",
    "西班牙语": "es",
    "希伯来语": "he",
    "希尔哈语": "shi",
    "希腊语": "el",
    "夏威夷语": "haw",
    "信德语": "sd",
    "匈牙利语": "hu",
    "修纳语": "sn",
    "宿务语": "ceb",
    "叙利亚语": "syc",
    "夏威夷克里奥尔英语": "hwc",
    "希里莫图语": "hmo",
    "西部拉威语": "lcp",
    "锡达莫语": "sid",
    "西布基农马诺布语": "mbb",
    "西皮沃语": "shp",
    "西罗伊语": "ssd",
    "西部玻利维亚瓜拉尼语": "gnw",
    "西部克耶语": "kyu",
    "希利盖农语": "hil",
    "新挪威语": "nn",
    "下索布语": "dsb",
    "新通用语": "lfn",
    "西方国际语": "ie",
    "亚美尼亚语": "hy",
    "雅加达语": "jac",
    "亚齐语": "ace",
    "伊博语": "ig",
    "意大利语": "it",
    "意第绪语": "yi",
    "印地语": "hi",
    "印尼巽他语": "su",
    "印尼语": "id",
    "印尼爪哇语": "jv",
    "英语": "en",
    "尤卡坦玛雅语": "yua",
    "约鲁巴语": "yo",
    "越南语": "vi",
    "粤语": "yue",
    "伊卡语": "ikk",
    "伊兹语": "izz",
    "约姆语": "pil",
    "雅比姆语": "jae",
    "永贡语": "yon",
    "邕北壮语": "zyb",
    "伊普马语": "byr",
    "伊索科语": "iso",
    "伊班语": "iba",
    "伊洛卡诺语": "ilo",
    "伊巴纳格语": "ibg",
    "雅浦语": "yap",
    "因巴布拉高地克丘亚语": "qvi",
    "伊多语": "io",
    "因特语": "ia",
    "藏语": "ti",
    "中文": "zh",
    "繁体中文": "cht",
    "宗喀语": "dz",
    "中部伊富高语": "ifa",
    "佐通钦语": "czt",
    "中部杜顺语": "dtp",
    "中比科尔语": "bcl",
    "泽塔尔语": "tzh",
    "赞德语": "zne",
    "中部普埃布拉纳瓦特语": "ncx",
    "中部瓦斯特克纳瓦特语": "nch",
    "中古法语": "frm",
  };
}
